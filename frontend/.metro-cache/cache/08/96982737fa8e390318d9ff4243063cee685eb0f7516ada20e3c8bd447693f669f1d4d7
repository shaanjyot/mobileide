{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  module.exports = markupTemplating;\n  markupTemplating.displayName = 'markupTemplating';\n  markupTemplating.aliases = [];\n  function markupTemplating(Prism) {\n    ;\n    (function (Prism) {\n      /**\n       * Returns the placeholder for the given language id and index.\n       *\n       * @param {string} language\n       * @param {string|number} index\n       * @returns {string}\n       */\n      function getPlaceholder(language, index) {\n        return '___' + language.toUpperCase() + index + '___';\n      }\n      Object.defineProperties(Prism.languages['markup-templating'] = {}, {\n        buildPlaceholders: {\n          /**\n           * Tokenize all inline templating expressions matching `placeholderPattern`.\n           *\n           * If `replaceFilter` is provided, only matches of `placeholderPattern` for which `replaceFilter` returns\n           * `true` will be replaced.\n           *\n           * @param {object} env The environment of the `before-tokenize` hook.\n           * @param {string} language The language id.\n           * @param {RegExp} placeholderPattern The matches of this pattern will be replaced by placeholders.\n           * @param {(match: string) => boolean} [replaceFilter]\n           */\n          value: function (env, language, placeholderPattern, replaceFilter) {\n            if (env.language !== language) {\n              return;\n            }\n            var tokenStack = env.tokenStack = [];\n            env.code = env.code.replace(placeholderPattern, function (match) {\n              if (typeof replaceFilter === 'function' && !replaceFilter(match)) {\n                return match;\n              }\n              var i = tokenStack.length;\n              var placeholder; // Check for existing strings\n              while (env.code.indexOf(placeholder = getPlaceholder(language, i)) !== -1) ++i; // Create a sparse array\n              tokenStack[i] = match;\n              return placeholder;\n            }); // Switch the grammar to markup\n            env.grammar = Prism.languages.markup;\n          }\n        },\n        tokenizePlaceholders: {\n          /**\n           * Replace placeholders with proper tokens after tokenizing.\n           *\n           * @param {object} env The environment of the `after-tokenize` hook.\n           * @param {string} language The language id.\n           */\n          value: function (env, language) {\n            if (env.language !== language || !env.tokenStack) {\n              return;\n            } // Switch the grammar back\n            env.grammar = Prism.languages[language];\n            var j = 0;\n            var keys = Object.keys(env.tokenStack);\n            function walkTokens(tokens) {\n              for (var i = 0; i < tokens.length; i++) {\n                // all placeholders are replaced already\n                if (j >= keys.length) {\n                  break;\n                }\n                var token = tokens[i];\n                if (typeof token === 'string' || token.content && typeof token.content === 'string') {\n                  var k = keys[j];\n                  var t = env.tokenStack[k];\n                  var s = typeof token === 'string' ? token : token.content;\n                  var placeholder = getPlaceholder(language, k);\n                  var index = s.indexOf(placeholder);\n                  if (index > -1) {\n                    ++j;\n                    var before = s.substring(0, index);\n                    var middle = new Prism.Token(language, Prism.tokenize(t, env.grammar), 'language-' + language, t);\n                    var after = s.substring(index + placeholder.length);\n                    var replacement = [];\n                    if (before) {\n                      replacement.push.apply(replacement, walkTokens([before]));\n                    }\n                    replacement.push(middle);\n                    if (after) {\n                      replacement.push.apply(replacement, walkTokens([after]));\n                    }\n                    if (typeof token === 'string') {\n                      tokens.splice.apply(tokens, [i, 1].concat(replacement));\n                    } else {\n                      token.content = replacement;\n                    }\n                  }\n                } else if (token.content\n                /* && typeof token.content !== 'string' */) {\n                  walkTokens(token.content);\n                }\n              }\n              return tokens;\n            }\n            walkTokens(env.tokens);\n          }\n        }\n      });\n    })(Prism);\n  }\n});","lineCount":110,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"module"],[4,8,3,6],[4,9,3,7,"exports"],[4,16,3,14],[4,19,3,17,"markupTemplating"],[4,35,3,33],[5,2,4,0,"markupTemplating"],[5,18,4,16],[5,19,4,17,"displayName"],[5,30,4,28],[5,33,4,31],[5,51,4,49],[6,2,5,0,"markupTemplating"],[6,18,5,16],[6,19,5,17,"aliases"],[6,26,5,24],[6,29,5,27],[6,31,5,29],[7,2,6,0],[7,11,6,9,"markupTemplating"],[7,27,6,25,"markupTemplating"],[7,28,6,26,"Prism"],[7,33,6,31],[7,35,6,33],[8,4,7,2],[9,4,7,3],[9,5,7,4],[9,15,7,13,"Prism"],[9,20,7,18],[9,22,7,20],[10,6,8,4],[11,0,9,0],[12,0,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[16,0,14,0],[17,6,15,4],[17,15,15,13,"getPlaceholder"],[17,29,15,27,"getPlaceholder"],[17,30,15,28,"language"],[17,38,15,36],[17,40,15,38,"index"],[17,45,15,43],[17,47,15,45],[18,8,16,6],[18,15,16,13],[18,20,16,18],[18,23,16,21,"language"],[18,31,16,29],[18,32,16,30,"toUpperCase"],[18,43,16,41],[18,44,16,42],[18,45,16,43],[18,48,16,46,"index"],[18,53,16,51],[18,56,16,54],[18,61,16,59],[19,6,17,4],[20,6,18,4,"Object"],[20,12,18,10],[20,13,18,11,"defineProperties"],[20,29,18,27],[20,30,18,29,"Prism"],[20,35,18,34],[20,36,18,35,"languages"],[20,45,18,44],[20,46,18,45],[20,65,18,64],[20,66,18,65],[20,69,18,68],[20,70,18,69],[20,71,18,70],[20,73,18,73],[21,8,19,6,"buildPlaceholders"],[21,25,19,23],[21,27,19,25],[22,10,20,8],[23,0,21,0],[24,0,22,0],[25,0,23,0],[26,0,24,0],[27,0,25,0],[28,0,26,0],[29,0,27,0],[30,0,28,0],[31,0,29,0],[32,0,30,0],[33,10,31,8,"value"],[33,15,31,13],[33,17,31,15],[33,26,31,15,"value"],[33,27,31,24,"env"],[33,30,31,27],[33,32,31,29,"language"],[33,40,31,37],[33,42,31,39,"placeholderPattern"],[33,60,31,57],[33,62,31,59,"replaceFilter"],[33,75,31,72],[33,77,31,74],[34,12,32,10],[34,16,32,14,"env"],[34,19,32,17],[34,20,32,18,"language"],[34,28,32,26],[34,33,32,31,"language"],[34,41,32,39],[34,43,32,41],[35,14,33,12],[36,12,34,10],[37,12,35,10],[37,16,35,14,"tokenStack"],[37,26,35,24],[37,29,35,28,"env"],[37,32,35,31],[37,33,35,32,"tokenStack"],[37,43,35,42],[37,46,35,45],[37,48,35,48],[38,12,36,10,"env"],[38,15,36,13],[38,16,36,14,"code"],[38,20,36,18],[38,23,36,21,"env"],[38,26,36,24],[38,27,36,25,"code"],[38,31,36,29],[38,32,36,30,"replace"],[38,39,36,37],[38,40,36,38,"placeholderPattern"],[38,58,36,56],[38,60,36,58],[38,70,36,67,"match"],[38,75,36,72],[38,77,36,74],[39,14,37,12],[39,18,37,16],[39,25,37,23,"replaceFilter"],[39,38,37,36],[39,43,37,41],[39,53,37,51],[39,57,37,55],[39,58,37,56,"replaceFilter"],[39,71,37,69],[39,72,37,70,"match"],[39,77,37,75],[39,78,37,76],[39,80,37,78],[40,16,38,14],[40,23,38,21,"match"],[40,28,38,26],[41,14,39,12],[42,14,40,12],[42,18,40,16,"i"],[42,19,40,17],[42,22,40,20,"tokenStack"],[42,32,40,30],[42,33,40,31,"length"],[42,39,40,37],[43,14,41,12],[43,18,41,16,"placeholder"],[43,29,41,27],[43,31,41,28],[44,14,42,12],[44,21,43,14,"env"],[44,24,43,17],[44,25,43,18,"code"],[44,29,43,22],[44,30,43,23,"indexOf"],[44,37,43,30],[44,38,43,32,"placeholder"],[44,49,43,43],[44,52,43,46,"getPlaceholder"],[44,66,43,60],[44,67,43,61,"language"],[44,75,43,69],[44,77,43,71,"i"],[44,78,43,72],[44,79,43,74],[44,80,43,75],[44,85,44,14],[44,86,44,15],[44,87,44,16],[44,89,46,14],[44,91,46,16,"i"],[44,92,46,17],[44,94,46,18],[45,14,47,12,"tokenStack"],[45,24,47,22],[45,25,47,23,"i"],[45,26,47,24],[45,27,47,25],[45,30,47,28,"match"],[45,35,47,33],[46,14,48,12],[46,21,48,19,"placeholder"],[46,32,48,30],[47,12,49,10],[47,13,49,11],[47,14,49,12],[47,16,49,13],[48,12,50,10,"env"],[48,15,50,13],[48,16,50,14,"grammar"],[48,23,50,21],[48,26,50,24,"Prism"],[48,31,50,29],[48,32,50,30,"languages"],[48,41,50,39],[48,42,50,40,"markup"],[48,48,50,46],[49,10,51,8],[50,8,52,6],[50,9,52,7],[51,8,53,6,"tokenizePlaceholders"],[51,28,53,26],[51,30,53,28],[52,10,54,8],[53,0,55,0],[54,0,56,0],[55,0,57,0],[56,0,58,0],[57,0,59,0],[58,10,60,8,"value"],[58,15,60,13],[58,17,60,15],[58,26,60,15,"value"],[58,27,60,24,"env"],[58,30,60,27],[58,32,60,29,"language"],[58,40,60,37],[58,42,60,39],[59,12,61,10],[59,16,61,14,"env"],[59,19,61,17],[59,20,61,18,"language"],[59,28,61,26],[59,33,61,31,"language"],[59,41,61,39],[59,45,61,43],[59,46,61,44,"env"],[59,49,61,47],[59,50,61,48,"tokenStack"],[59,60,61,58],[59,62,61,60],[60,14,62,12],[61,12,63,10],[61,13,63,11],[61,14,63,12],[62,12,64,10,"env"],[62,15,64,13],[62,16,64,14,"grammar"],[62,23,64,21],[62,26,64,24,"Prism"],[62,31,64,29],[62,32,64,30,"languages"],[62,41,64,39],[62,42,64,40,"language"],[62,50,64,48],[62,51,64,49],[63,12,65,10],[63,16,65,14,"j"],[63,17,65,15],[63,20,65,18],[63,21,65,19],[64,12,66,10],[64,16,66,14,"keys"],[64,20,66,18],[64,23,66,21,"Object"],[64,29,66,27],[64,30,66,28,"keys"],[64,34,66,32],[64,35,66,33,"env"],[64,38,66,36],[64,39,66,37,"tokenStack"],[64,49,66,47],[64,50,66,48],[65,12,67,10],[65,21,67,19,"walkTokens"],[65,31,67,29,"walkTokens"],[65,32,67,30,"tokens"],[65,38,67,36],[65,40,67,38],[66,14,68,12],[66,19,68,17],[66,23,68,21,"i"],[66,24,68,22],[66,27,68,25],[66,28,68,26],[66,30,68,28,"i"],[66,31,68,29],[66,34,68,32,"tokens"],[66,40,68,38],[66,41,68,39,"length"],[66,47,68,45],[66,49,68,47,"i"],[66,50,68,48],[66,52,68,50],[66,54,68,52],[67,16,69,14],[68,16,70,14],[68,20,70,18,"j"],[68,21,70,19],[68,25,70,23,"keys"],[68,29,70,27],[68,30,70,28,"length"],[68,36,70,34],[68,38,70,36],[69,18,71,16],[70,16,72,14],[71,16,73,14],[71,20,73,18,"token"],[71,25,73,23],[71,28,73,26,"tokens"],[71,34,73,32],[71,35,73,33,"i"],[71,36,73,34],[71,37,73,35],[72,16,74,14],[72,20,75,16],[72,27,75,23,"token"],[72,32,75,28],[72,37,75,33],[72,45,75,41],[72,49,76,17,"token"],[72,54,76,22],[72,55,76,23,"content"],[72,62,76,30],[72,66,76,34],[72,73,76,41,"token"],[72,78,76,46],[72,79,76,47,"content"],[72,86,76,54],[72,91,76,59],[72,99,76,68],[72,101,77,16],[73,18,78,16],[73,22,78,20,"k"],[73,23,78,21],[73,26,78,24,"keys"],[73,30,78,28],[73,31,78,29,"j"],[73,32,78,30],[73,33,78,31],[74,18,79,16],[74,22,79,20,"t"],[74,23,79,21],[74,26,79,24,"env"],[74,29,79,27],[74,30,79,28,"tokenStack"],[74,40,79,38],[74,41,79,39,"k"],[74,42,79,40],[74,43,79,41],[75,18,80,16],[75,22,80,20,"s"],[75,23,80,21],[75,26,80,24],[75,33,80,31,"token"],[75,38,80,36],[75,43,80,41],[75,51,80,49],[75,54,80,52,"token"],[75,59,80,57],[75,62,80,60,"token"],[75,67,80,65],[75,68,80,66,"content"],[75,75,80,73],[76,18,81,16],[76,22,81,20,"placeholder"],[76,33,81,31],[76,36,81,34,"getPlaceholder"],[76,50,81,48],[76,51,81,49,"language"],[76,59,81,57],[76,61,81,59,"k"],[76,62,81,60],[76,63,81,61],[77,18,82,16],[77,22,82,20,"index"],[77,27,82,25],[77,30,82,28,"s"],[77,31,82,29],[77,32,82,30,"indexOf"],[77,39,82,37],[77,40,82,38,"placeholder"],[77,51,82,49],[77,52,82,50],[78,18,83,16],[78,22,83,20,"index"],[78,27,83,25],[78,30,83,28],[78,31,83,29],[78,32,83,30],[78,34,83,32],[79,20,84,18],[79,22,84,20,"j"],[79,23,84,21],[80,20,85,18],[80,24,85,22,"before"],[80,30,85,28],[80,33,85,31,"s"],[80,34,85,32],[80,35,85,33,"substring"],[80,44,85,42],[80,45,85,43],[80,46,85,44],[80,48,85,46,"index"],[80,53,85,51],[80,54,85,52],[81,20,86,18],[81,24,86,22,"middle"],[81,30,86,28],[81,33,86,31],[81,37,86,35,"Prism"],[81,42,86,40],[81,43,86,41,"Token"],[81,48,86,46],[81,49,87,20,"language"],[81,57,87,28],[81,59,88,20,"Prism"],[81,64,88,25],[81,65,88,26,"tokenize"],[81,73,88,34],[81,74,88,35,"t"],[81,75,88,36],[81,77,88,38,"env"],[81,80,88,41],[81,81,88,42,"grammar"],[81,88,88,49],[81,89,88,50],[81,91,89,20],[81,102,89,31],[81,105,89,34,"language"],[81,113,89,42],[81,115,90,20,"t"],[81,116,91,18],[81,117,91,19],[82,20,92,18],[82,24,92,22,"after"],[82,29,92,27],[82,32,92,30,"s"],[82,33,92,31],[82,34,92,32,"substring"],[82,43,92,41],[82,44,92,42,"index"],[82,49,92,47],[82,52,92,50,"placeholder"],[82,63,92,61],[82,64,92,62,"length"],[82,70,92,68],[82,71,92,69],[83,20,93,18],[83,24,93,22,"replacement"],[83,35,93,33],[83,38,93,36],[83,40,93,38],[84,20,94,18],[84,24,94,22,"before"],[84,30,94,28],[84,32,94,30],[85,22,95,20,"replacement"],[85,33,95,31],[85,34,95,32,"push"],[85,38,95,36],[85,39,95,37,"apply"],[85,44,95,42],[85,45,95,43,"replacement"],[85,56,95,54],[85,58,95,56,"walkTokens"],[85,68,95,66],[85,69,95,67],[85,70,95,68,"before"],[85,76,95,74],[85,77,95,75],[85,78,95,76],[85,79,95,77],[86,20,96,18],[87,20,97,18,"replacement"],[87,31,97,29],[87,32,97,30,"push"],[87,36,97,34],[87,37,97,35,"middle"],[87,43,97,41],[87,44,97,42],[88,20,98,18],[88,24,98,22,"after"],[88,29,98,27],[88,31,98,29],[89,22,99,20,"replacement"],[89,33,99,31],[89,34,99,32,"push"],[89,38,99,36],[89,39,99,37,"apply"],[89,44,99,42],[89,45,99,43,"replacement"],[89,56,99,54],[89,58,99,56,"walkTokens"],[89,68,99,66],[89,69,99,67],[89,70,99,68,"after"],[89,75,99,73],[89,76,99,74],[89,77,99,75],[89,78,99,76],[90,20,100,18],[91,20,101,18],[91,24,101,22],[91,31,101,29,"token"],[91,36,101,34],[91,41,101,39],[91,49,101,47],[91,51,101,49],[92,22,102,20,"tokens"],[92,28,102,26],[92,29,102,27,"splice"],[92,35,102,33],[92,36,102,34,"apply"],[92,41,102,39],[92,42,102,40,"tokens"],[92,48,102,46],[92,50,102,48],[92,51,102,49,"i"],[92,52,102,50],[92,54,102,52],[92,55,102,53],[92,56,102,54],[92,57,102,55,"concat"],[92,63,102,61],[92,64,102,62,"replacement"],[92,75,102,73],[92,76,102,74],[92,77,102,75],[93,20,103,18],[93,21,103,19],[93,27,103,25],[94,22,104,20,"token"],[94,27,104,25],[94,28,104,26,"content"],[94,35,104,33],[94,38,104,36,"replacement"],[94,49,104,47],[95,20,105,18],[96,18,106,16],[97,16,107,14],[97,17,107,15],[97,23,107,21],[97,27,108,16,"token"],[97,32,108,21],[97,33,108,22,"content"],[98,16,109,16],[98,60,110,16],[99,18,111,16,"walkTokens"],[99,28,111,26],[99,29,111,27,"token"],[99,34,111,32],[99,35,111,33,"content"],[99,42,111,40],[99,43,111,41],[100,16,112,14],[101,14,113,12],[102,14,114,12],[102,21,114,19,"tokens"],[102,27,114,25],[103,12,115,10],[104,12,116,10,"walkTokens"],[104,22,116,20],[104,23,116,21,"env"],[104,26,116,24],[104,27,116,25,"tokens"],[104,33,116,31],[104,34,116,32],[105,10,117,8],[106,8,118,6],[107,6,119,4],[107,7,119,5],[107,8,119,6],[108,4,120,2],[108,5,120,3],[108,7,120,5,"Prism"],[108,12,120,10],[108,13,120,11],[109,2,121,0],[110,0,121,1],[110,3]],"functionMap":{"names":["<global>","markupTemplating","<anonymous>","getPlaceholder","Object.defineProperties$argument_1.buildPlaceholders.value","env.code.replace$argument_1","Object.defineProperties$argument_1.tokenizePlaceholders.value","walkTokens"],"mappings":"AAA;ACK;ICC;ICQ;KDE;eEc;0DCK;WDa;SFE;eIS;UCO;WDgD;SJE;GDG;CDC"},"hasCjsExports":true},"type":"js/module"}]}