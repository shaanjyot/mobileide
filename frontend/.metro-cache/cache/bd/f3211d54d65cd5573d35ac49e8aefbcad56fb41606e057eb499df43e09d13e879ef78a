{"dependencies":[{"name":"./markup-templating.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":2,"column":32,"index":45},"end":{"line":2,"column":65,"index":78}}],"key":"liQ+0DCy/BDwmWsZoAPmC+GsWpY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var refractorMarkupTemplating = require(_dependencyMap[0], \"./markup-templating.js\");\n  module.exports = smarty;\n  smarty.displayName = 'smarty';\n  smarty.aliases = [];\n  function smarty(Prism) {\n    Prism.register(refractorMarkupTemplating)\n    /* TODO\n    Add support for variables inside double quoted strings\n    Add support for {php}\n    */;\n    (function (Prism) {\n      Prism.languages.smarty = {\n        comment: /\\{\\*[\\s\\S]*?\\*\\}/,\n        delimiter: {\n          pattern: /^\\{|\\}$/i,\n          alias: 'punctuation'\n        },\n        string: /([\"'])(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/,\n        number: /\\b0x[\\dA-Fa-f]+|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:[Ee][-+]?\\d+)?/,\n        variable: [/\\$(?!\\d)\\w+/, /#(?!\\d)\\w+#/, {\n          pattern: /(\\.|->)(?!\\d)\\w+/,\n          lookbehind: true\n        }, {\n          pattern: /(\\[)(?!\\d)\\w+(?=\\])/,\n          lookbehind: true\n        }],\n        function: [{\n          pattern: /(\\|\\s*)@?(?!\\d)\\w+/,\n          lookbehind: true\n        }, /^\\/?(?!\\d)\\w+/, /(?!\\d)\\w+(?=\\()/],\n        'attr-name': {\n          // Value is made optional because it may have already been tokenized\n          pattern: /\\w+\\s*=\\s*(?:(?!\\d)\\w+)?/,\n          inside: {\n            variable: {\n              pattern: /(=\\s*)(?!\\d)\\w+/,\n              lookbehind: true\n            },\n            operator: /=/\n          }\n        },\n        punctuation: [/[\\[\\]().,:`]|->/],\n        operator: [/[+\\-*\\/%]|==?=?|[!<>]=?|&&|\\|\\|?/, /\\bis\\s+(?:not\\s+)?(?:div|even|odd)(?:\\s+by)?\\b/, /\\b(?:eq|neq?|gt|lt|gt?e|lt?e|not|mod|or|and)\\b/],\n        keyword: /\\b(?:false|off|on|no|true|yes)\\b/\n      }; // Tokenize all inline Smarty expressions\n      Prism.hooks.add('before-tokenize', function (env) {\n        var smartyPattern = /\\{\\*[\\s\\S]*?\\*\\}|\\{[\\s\\S]+?\\}/g;\n        var smartyLitteralStart = '{literal}';\n        var smartyLitteralEnd = '{/literal}';\n        var smartyLitteralMode = false;\n        Prism.languages['markup-templating'].buildPlaceholders(env, 'smarty', smartyPattern, function (match) {\n          // Smarty tags inside {literal} block are ignored\n          if (match === smartyLitteralEnd) {\n            smartyLitteralMode = false;\n          }\n          if (!smartyLitteralMode) {\n            if (match === smartyLitteralStart) {\n              smartyLitteralMode = true;\n            }\n            return true;\n          }\n          return false;\n        });\n      }); // Re-insert the tokens after tokenizing\n      Prism.hooks.add('after-tokenize', function (env) {\n        Prism.languages['markup-templating'].tokenizePlaceholders(env, 'smarty');\n      });\n    })(Prism);\n  }\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"refractorMarkupTemplating"],[4,31,2,29],[4,34,2,32,"require"],[4,41,2,39],[4,42,2,39,"_dependencyMap"],[4,56,2,39],[4,85,2,64],[4,86,2,65],[5,2,3,0,"module"],[5,8,3,6],[5,9,3,7,"exports"],[5,16,3,14],[5,19,3,17,"smarty"],[5,25,3,23],[6,2,4,0,"smarty"],[6,8,4,6],[6,9,4,7,"displayName"],[6,20,4,18],[6,23,4,21],[6,31,4,29],[7,2,5,0,"smarty"],[7,8,5,6],[7,9,5,7,"aliases"],[7,16,5,14],[7,19,5,17],[7,21,5,19],[8,2,6,0],[8,11,6,9,"smarty"],[8,17,6,15,"smarty"],[8,18,6,16,"Prism"],[8,23,6,21],[8,25,6,23],[9,4,7,2,"Prism"],[9,9,7,7],[9,10,7,8,"register"],[9,18,7,16],[9,19,7,17,"refractorMarkupTemplating"],[9,44,7,42],[10,4,8,2],[11,0,9,0],[12,0,10,0],[13,0,11,0],[13,6,8,2],[14,4,12,3],[14,5,12,4],[14,15,12,13,"Prism"],[14,20,12,18],[14,22,12,20],[15,6,13,4,"Prism"],[15,11,13,9],[15,12,13,10,"languages"],[15,21,13,19],[15,22,13,20,"smarty"],[15,28,13,26],[15,31,13,29],[16,8,14,6,"comment"],[16,15,14,13],[16,17,14,15],[16,35,14,33],[17,8,15,6,"delimiter"],[17,17,15,15],[17,19,15,17],[18,10,16,8,"pattern"],[18,17,16,15],[18,19,16,17],[18,29,16,27],[19,10,17,8,"alias"],[19,15,17,13],[19,17,17,15],[20,8,18,6],[20,9,18,7],[21,8,19,6,"string"],[21,14,19,12],[21,16,19,14],[21,50,19,48],[22,8,20,6,"number"],[22,14,20,12],[22,16,20,14],[22,74,20,72],[23,8,21,6,"variable"],[23,16,21,14],[23,18,21,16],[23,19,22,8],[23,32,22,21],[23,34,23,8],[23,47,23,21],[23,49,24,8],[24,10,25,10,"pattern"],[24,17,25,17],[24,19,25,19],[24,37,25,37],[25,10,26,10,"lookbehind"],[25,20,26,20],[25,22,26,22],[26,8,27,8],[26,9,27,9],[26,11,28,8],[27,10,29,10,"pattern"],[27,17,29,17],[27,19,29,19],[27,40,29,40],[28,10,30,10,"lookbehind"],[28,20,30,20],[28,22,30,22],[29,8,31,8],[29,9,31,9],[29,10,32,7],[30,8,33,6,"function"],[30,16,33,14],[30,18,33,16],[30,19,34,8],[31,10,35,10,"pattern"],[31,17,35,17],[31,19,35,19],[31,39,35,39],[32,10,36,10,"lookbehind"],[32,20,36,20],[32,22,36,22],[33,8,37,8],[33,9,37,9],[33,11,38,8],[33,26,38,23],[33,28,39,8],[33,45,39,25],[33,46,40,7],[34,8,41,6],[34,19,41,17],[34,21,41,19],[35,10,42,8],[36,10,43,8,"pattern"],[36,17,43,15],[36,19,43,17],[36,45,43,43],[37,10,44,8,"inside"],[37,16,44,14],[37,18,44,16],[38,12,45,10,"variable"],[38,20,45,18],[38,22,45,20],[39,14,46,12,"pattern"],[39,21,46,19],[39,23,46,21],[39,40,46,38],[40,14,47,12,"lookbehind"],[40,24,47,22],[40,26,47,24],[41,12,48,10],[41,13,48,11],[42,12,49,10,"operator"],[42,20,49,18],[42,22,49,20],[43,10,50,8],[44,8,51,6],[44,9,51,7],[45,8,52,6,"punctuation"],[45,19,52,17],[45,21,52,19],[45,22,52,20],[45,39,52,37],[45,40,52,38],[46,8,53,6,"operator"],[46,16,53,14],[46,18,53,16],[46,19,54,8],[46,53,54,42],[46,55,55,8],[46,103,55,56],[46,105,56,8],[46,153,56,56],[46,154,57,7],[47,8,58,6,"keyword"],[47,15,58,13],[47,17,58,15],[48,6,59,4],[48,7,59,5],[48,9,59,6],[49,6,60,4,"Prism"],[49,11,60,9],[49,12,60,10,"hooks"],[49,17,60,15],[49,18,60,16,"add"],[49,21,60,19],[49,22,60,20],[49,39,60,37],[49,41,60,39],[49,51,60,48,"env"],[49,54,60,51],[49,56,60,53],[50,8,61,6],[50,12,61,10,"smartyPattern"],[50,25,61,23],[50,28,61,26],[50,60,61,58],[51,8,62,6],[51,12,62,10,"smartyLitteralStart"],[51,31,62,29],[51,34,62,32],[51,45,62,43],[52,8,63,6],[52,12,63,10,"smartyLitteralEnd"],[52,29,63,27],[52,32,63,30],[52,44,63,42],[53,8,64,6],[53,12,64,10,"smartyLitteralMode"],[53,30,64,28],[53,33,64,31],[53,38,64,36],[54,8,65,6,"Prism"],[54,13,65,11],[54,14,65,12,"languages"],[54,23,65,21],[54,24,65,22],[54,43,65,41],[54,44,65,42],[54,45,65,43,"buildPlaceholders"],[54,62,65,60],[54,63,66,8,"env"],[54,66,66,11],[54,68,67,8],[54,76,67,16],[54,78,68,8,"smartyPattern"],[54,91,68,21],[54,93,69,8],[54,103,69,17,"match"],[54,108,69,22],[54,110,69,24],[55,10,70,10],[56,10,71,10],[56,14,71,14,"match"],[56,19,71,19],[56,24,71,24,"smartyLitteralEnd"],[56,41,71,41],[56,43,71,43],[57,12,72,12,"smartyLitteralMode"],[57,30,72,30],[57,33,72,33],[57,38,72,38],[58,10,73,10],[59,10,74,10],[59,14,74,14],[59,15,74,15,"smartyLitteralMode"],[59,33,74,33],[59,35,74,35],[60,12,75,12],[60,16,75,16,"match"],[60,21,75,21],[60,26,75,26,"smartyLitteralStart"],[60,45,75,45],[60,47,75,47],[61,14,76,14,"smartyLitteralMode"],[61,32,76,32],[61,35,76,35],[61,39,76,39],[62,12,77,12],[63,12,78,12],[63,19,78,19],[63,23,78,23],[64,10,79,10],[65,10,80,10],[65,17,80,17],[65,22,80,22],[66,8,81,8],[66,9,82,6],[66,10,82,7],[67,6,83,4],[67,7,83,5],[67,8,83,6],[67,10,83,7],[68,6,84,4,"Prism"],[68,11,84,9],[68,12,84,10,"hooks"],[68,17,84,15],[68,18,84,16,"add"],[68,21,84,19],[68,22,84,20],[68,38,84,36],[68,40,84,38],[68,50,84,47,"env"],[68,53,84,50],[68,55,84,52],[69,8,85,6,"Prism"],[69,13,85,11],[69,14,85,12,"languages"],[69,23,85,21],[69,24,85,22],[69,43,85,41],[69,44,85,42],[69,45,85,43,"tokenizePlaceholders"],[69,65,85,63],[69,66,85,64,"env"],[69,69,85,67],[69,71,85,69],[69,79,85,77],[69,80,85,78],[70,6,86,4],[70,7,86,5],[70,8,86,6],[71,4,87,2],[71,5,87,3],[71,7,87,5,"Prism"],[71,12,87,10],[71,13,87,11],[72,2,88,0],[73,0,88,1],[73,3]],"functionMap":{"names":["<global>","smarty","<anonymous>","Prism.hooks.add$argument_1","Prism.languages.markupTemplating.buildPlaceholders$argument_3"],"mappings":"AAA;ACK;ICM;uCCgD;QCS;SDY;KDE;sCCC;KDE;GDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}